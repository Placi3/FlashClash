<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menú Croquetas Retro</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bungee&family=Press+Start+2P&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background-color: #1a1a2e;
            background-image: 
                linear-gradient(63deg, #2d2d44 5%, transparent 5%),
                linear-gradient(117deg, #2d2d44 5%, transparent 5%),
                linear-gradient(63deg, transparent 95%, #2d2d44 95%),
                linear-gradient(117deg, transparent 95%, #2d2d44 95%);
            background-size: 40px 40px;
            background-position: 0 0, 0 0, 20px 20px, 20px 20px;
            color: #fff;
            font-family: 'Bungee', cursive;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
            touch-action: manipulation;
        }
        
        /* Efecto de escaneo CRT */
        .crt-effect::after {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, 
                    rgba(255, 255, 255, 0.03) 50%, 
                    rgba(0, 0, 0, 0.1) 50%);
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 100;
            animation: scanline 8s linear infinite;
        }
        
        @keyframes scanline {
            0% { background-position: 0 0; }
            100% { background-position: 0 100%; }
        }
        
        .menu-container {
            background-color: #2a1b3d;
            background-image: 
                linear-gradient(rgba(90, 60, 120, 0.4) 1px, transparent 1px),
                linear-gradient(90deg, rgba(90, 60, 120, 0.4) 1px, transparent 1px);
            background-size: 40px 20px;
            border: 3px solid #ff00ff;
            border-radius: 15px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 0 20px #ff00ff, 0 0 40px rgba(255, 0, 255, 0.5),
                        0 0 80px rgba(0, 100, 255, 0.6) inset;
            position: relative;
            overflow: hidden;
            transform: translateZ(0);
        }

        /* Efecto de sombra entre ladrillos */
        .menu-container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(to bottom, rgba(0,0,0,0.2) 1px, transparent 1px),
                linear-gradient(to right, rgba(0,0,0,0.2) 1px, transparent 1px);
            background-size: 40px 20px;
            pointer-events: none;
            z-index: -1;
        }
        
        /* Efecto de desenfoque para mejorar la legibilidad */
        .menu-container::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: -1;
        }
        
        .logo-container {
            text-align: center;
            margin-bottom: 10px;
        }
        
        .logo-image {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto 5px auto;
            filter: drop-shadow(0 0 10px #c678dd) drop-shadow(0 0 20px #c678dd);
            animation: logo-glow 3s infinite alternate;
            cursor: pointer;
        }
        
        .menu-title {
            text-align: center;
            font-size: 3em;
            margin: 100px 0 40px 0;
            text-transform: uppercase;
            color: #ff6ec7;
            letter-spacing: 2px;
            font-family: 'Press Start 2P', cursive;
            position: relative;
            display: flex;
            justify-content: center;
            gap: 5px;
        }
        
        .menu-title span {
            display: inline-block;
        }
        
        .letter-m, .letter-n {
            text-shadow: 0 0 10px #ff073a, 0 0 20px #ff073a;
            animation: steady-glow 3s infinite alternate;
        }
        
        .letter-e {
            text-shadow: 0 0 10px #ff073a, 0 0 20px #ff073a;
            animation: broken-neon-e 6s infinite;
        }
        
        .letter-u {
            text-shadow: 0 0 10px #ff073a, 0 0 20px #ff073a;
            animation: broken-neon-u 7s infinite;
        }
        
        .menu-section {
            margin-bottom: 25px;
            border-bottom: 2px dashed #00ffff;
            padding-bottom: 15px;
            position: relative;
        }
        
        .section-title {
            font-size: 1.8em;
            color: #00ffff;
            text-shadow: 0 0 5px #00ffff, 0 0 8px #00ffff;
            margin-bottom: 15px;
            text-transform: uppercase;
            position: relative;
            animation: blink 2s infinite alternate;
            cursor: pointer;
        }
        
        .menu-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 1.2em;
            position: relative;
            transition: all 0.3s ease;
            padding: 8px 5px;
            border-radius: 5px;
        }
        
        .menu-item.highlight {
            background: rgba(255, 0, 255, 0.2);
            transform: translateX(5px);
        }
        
        .item-name {
            color: #39ff14;
            text-shadow: 0 0 5px #39ff14;
        }
        
        .item-price {
            color: #ffdf00;
            text-shadow: 0 0 5px #ffdf00;
        }
        
        .logo-bottom-container {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
        }
        
        .logo-bottom {
            max-width: 60%;
            height: auto;
            display: block;
            margin: 0 auto;
            filter: drop-shadow(0 0 10px #ffdf00) drop-shadow(0 0 20px #ffdf00);
            animation: logo-bottom-glow 3s infinite alternate;
            cursor: pointer;
        }
        
        .copyright {
            margin-top: 30px;
            font-family: 'Bungee', cursive;
            font-size: 0.7em;
            color: #ffdf00;
            text-align: center;
            text-shadow: 0 0 5px #ffdf00;
            opacity: 0.9;
        }
        
        .company-symbols {
            font-size: 1.2em;
            vertical-align: middle;
            margin-right: 5px;
        }
        
        /* Efecto de selección tipo arcade */
        .arcade-selector {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ff00ff;
            border-radius: 50%;
            box-shadow: 0 0 10px #ff00ff, 0 0 20px #ff00ff;
            opacity: 0;
            transition: all 0.2s ease;
            pointer-events: none;
        }
        
        /* Mini juego oculto */
        #mini-game {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        
        #game-canvas {
            border: 3px solid #ff00ff;
            border-radius: 10px;
            background: #1a1a2e;
            max-width: 95%;
            max-height: 60vh;
        }
        
        #close-game {
            margin-top: 20px;
            padding: 10px 20px;
            background: #ff00ff;
            color: white;
            border: none;
            border-radius: 5px;
            font-family: 'Press Start 2P', cursive;
            cursor: pointer;
        }
        
        /* Botones de control para el juego en móvil */
        .game-controls {
            display: flex;
            margin-top: 20px;
            gap: 10px;
        }
        
        .control-btn {
            width: 60px;
            height: 60px;
            background: rgba(255, 0, 255, 0.3);
            border: 2px solid #ff00ff;
            border-radius: 50%;
            color: white;
            font-size: 24px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        /* Efecto de carga inicial */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            font-family: 'Press Start 2P', cursive;
        }
        
        #loading-text {
            color: #00ffff;
            text-shadow: 0 0 5px #00ffff;
            margin-bottom: 20px;
            text-align: center;
        }
        
        #loading-bar {
            width: 80%;
            height: 20px;
            background: #222;
            border: 2px solid #00ffff;
            border-radius: 5px;
            overflow: hidden;
        }
        
        #loading-progress {
            height: 100%;
            width: 0%;
            background: #00ffff;
            box-shadow: 0 0 10px #00ffff;
            transition: width 0.5s ease;
        }
        
        /* Botón de sonido */
        #sound-toggle {
            position: fixed;
            bottom: 15px;
            right: 15px;
            width: 40px;
            height: 40px;
            background: rgba(255, 0, 255, 0.5);
            border: 2px solid #ff00ff;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 20px;
            z-index: 100;
            cursor: pointer;
        }
        
        /* Animaciones para el efecto de neón roto más realista */
        @keyframes broken-neon-e {
            0%, 15% {
                text-shadow: 0 0 10px #ff073a, 0 0 20px #ff073a;
                opacity: 1;
            }
            16%, 19% {
                text-shadow: 0 0 2px #ff073a, 0 0 4px #ff073a;
                opacity: 0.5;
            }
            20%, 22% {
                text-shadow: 0 0 10px #ff073a, 0 0 20px #ff073a;
                opacity: 1;
            }
            23%, 25% {
                text-shadow: 0 0 0px transparent, 0 0 0px transparent;
                opacity: 0.2;
            }
            26%, 45% {
                text-shadow: 0 0 10px #ff073a, 0 0 20px #ff073a;
                opacity: 1;
            }
            46%, 48% {
                text-shadow: 0 0 5px #ff073a, 0 0 10px #ff073a;
                opacity: 0.7;
            }
            49%, 51% {
                text-shadow: 0 0 10px #ff073a, 0 0 20px #ff073a;
                opacity: 1;
            }
            52%, 54% {
                text-shadow: 0 0 0px transparent, 0 0 0px transparent;
                opacity: 0.1;
            }
            55%, 57% {
                text-shadow: 0 0 3px #ff073a, 0 0 6px #ff073a;
                opacity: 0.4;
            }
            58%, 65% {
                text-shadow: 0 0 10px #ff073a, 0 0 20px #ff073a;
                opacity: 1;
            }
            66%, 68% {
                text-shadow: 0 0 0px transparent, 0 0 0px transparent;
                opacity: 0.1;
            }
            69%, 72% {
                text-shadow: 0 0 7px #ff073a, 0 0 14px #ff073a;
                opacity: 0.8;
            }
            73%, 100% {
                text-shadow: 0 0 10px #ff073a, 0 0 20px #ff073a;
                opacity: 1;
            }
        }
        
        @keyframes broken-neon-u {
            0%, 20% {
                text-shadow: 0 0 10px #ff073a, 0 0 20px #ff073a;
                opacity: 1;
            }
            21%, 23% {
                text-shadow: 0 0 0px transparent, 0 0 0px transparent;
                opacity: 0.1;
            }
            24%, 26% {
                text-shadow: 0 0 4px #ff073a, 0 0 8px #ff073a;
                opacity: 0.6;
            }
            27%, 35% {
                text-shadow: 0 0 10px #ff073a, 0 0 20px #ff073a;
                opacity: 1;
            }
            36%, 38% {
                text-shadow: 0 0 0px transparent, 0 0 0px transparent;
                opacity: 0.1;
            }
            39%, 41% {
                text-shadow: 0 0 2px #ff073a, 0 0 4px #ff073a;
                opacity: 0.4;
            }
            42%, 44% {
                text-shadow: 0 0 0px transparent, 0 0 0px transparent;
                opacity: 0.1;
            }
            45%, 60% {
                text-shadow: 0 0 10px #ff073a, 0 0 20px #ff073a;
                opacity: 1;
            }
            61%, 63% {
                text-shadow: 0 0 6px #ff073a, 0 0 12px #ff073a;
                opacity: 0.7;
            }
            64%, 66% {
                text-shadow: 0 0 0px transparent, 0 0 0px transparent;
                opacity: 0.1;
            }
            67%, 69% {
                text-shadow: 0 0 3px #ff073a, 0 0 6px #ff073a;
                opacity: 0.5;
            }
            70%, 72% {
                text-shadow: 0 0 0px transparent, 0 0 0px transparent;
                opacity: 0.1;
            }
            73%, 75% {
                text-shadow: 0 0 8px #ff073a, 0 0 16px #ff073a;
                opacity: 0.9;
            }
            76%, 100% {
                text-shadow: 0 0 10px #ff073a, 0 0 20px #ff073a;
                opacity: 1;
            }
        }
        
        @keyframes steady-glow {
            0%, 100% {
                text-shadow: 0 0 10px #ff073a, 0 0 20px #ff073a;
                opacity: 0.9;
            }
            50% {
                text-shadow: 0 0 8px #ff073a, 0 0 15px #ff073a;
                opacity: 1;
            }
        }
        
        @keyframes logo-glow {
            0%, 100% { 
                filter: drop-shadow(0 0 10px #c678dd) drop-shadow(0 0 20px #c678dd); 
            }
            50% { 
                filter: drop-shadow(0 0 15px #c678dd) drop-shadow(0 0 30px #c678dd) brightness(1.1); 
            }
        }
        
        @keyframes logo-bottom-glow {
            0%, 100% { 
                filter: drop-shadow(0 0 10px #ffdf00) drop-shadow(0 0 20px #ffdf00); 
            }
            50% { 
                filter: drop-shadow(0 0 15px #ffdf00) drop-shadow(0 0 30px #ffdf00) brightness(1.1); 
            }
        }
        
        @keyframes blink {
            0%, 100% {
                text-shadow: 0 0 3px currentColor, 0 0 5px currentColor;
                opacity: 0.8;
            }
            50% {
                text-shadow: 0 0 4px currentColor, 0 0 7px currentColor;
                opacity: 0.9;
            }
        }
        
        /* Efecto de vibración para interacciones */
        @keyframes vibrate {
            0% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(2px, -2px); }
            60% { transform: translate(-2px, -2px); }
            80% { transform: translate(2px, 2px); }
            100% { transform: translate(0); }
        }
        
        .vibrate {
            animation: vibrate 0.3s linear;
        }
        
        /* Responsive para móviles */
        @media (max-width: 768px) {
            .menu-title {
                font-size: 2.2em;
                gap: 3px;
            }
            
            .letter-m, .letter-n, .letter-e, .letter-u {
                text-shadow: 0 0 5px #ff073a, 0 0 10px #ff073a;
            }
            
            @keyframes broken-neon-e {
                0%, 15% {
                    text-shadow: 0 0 5px #ff073a, 0 0 10px #ff073a;
                    opacity: 1;
                }
                16%, 19% {
                    text-shadow: 0 0 1px #ff073a, 0 0 2px #ff073a;
                    opacity: 0.5;
                }
                20%, 22% {
                    text-shadow: 0 0 5px #ff073a, 0 0 10px #ff073a;
                    opacity: 1;
                }
                23%, 25% {
                    text-shadow: 0 0 0px transparent, 0 0 0px transparent;
                    opacity: 0.2;
                }
                26%, 45% {
                    text-shadow: 0 0 5px #ff073a, 0 0 10px #ff073a;
                    opacity: 1;
                }
                46%, 48% {
                    text-shadow: 0 0 3px #ff073a, 0 0 5px #ff073a;
                    opacity: 0.7;
                }
                49%, 51% {
                    text-shadow: 0 0 5px #ff073a, 0 0 10px #ff073a;
                    opacity: 1;
                }
                52%, 54% {
                    text-shadow: 0 0 0px transparent, 0 0 0px transparent;
                    opacity: 0.1;
                }
                55%, 57% {
                    text-shadow: 0 0 2px #ff073a, 0 0 3px #ff073a;
                    opacity: 0.4;
                }
                58%, 65% {
                    text-shadow: 0 0 5px #ff073a, 0 0 10px #ff073a;
                    opacity: 1;
                }
                66%, 68% {
                    text-shadow: 0 0 0px transparent, 0 0 0px transparent;
                    opacity: 0.1;
                }
                69%, 72% {
                    text-shadow: 0 0 4px #ff073a, 0 0 7px #ff073a;
                    opacity: 0.8;
                }
                73%, 100% {
                    text-shadow: 0 0 5px #ff073a, 0 0 10px #ff073a;
                    opacity: 1;
                }
            }
            
            @keyframes broken-neon-u {
                0%, 20% {
                    text-shadow: 0 0 5px #ff073a, 0 0 10px #ff073a;
                    opacity: 1;
                }
                21%, 23% {
                    text-shadow: 0 0 0px transparent, 0 0 0px transparent;
                    opacity: 0.1;
                }
                24%, 26% {
                    text-shadow: 0 0 2px #ff073a, 0 0 4px #ff073a;
                    opacity: 0.6;
                }
                27%, 35% {
                    text-shadow: 0 0 5px #ff073a, 0 0 10px #ff073a;
                    opacity: 1;
                }
                36%, 38% {
                    text-shadow: 0 0 0px transparent, 0 0 0px transparent;
                    opacity: 0.1;
                }
                39%, 41% {
                    text-shadow: 0 0 1px #ff073a, 0 0 2px #ff073a;
                    opacity: 0.4;
                }
                42%, 44% {
                    text-shadow: 0 0 0px transparent, 0 0 0px transparent;
                    opacity: 0.1;
                }
                45%, 60% {
                    text-shadow: 0 0 5px #ff073a, 0 0 10px #ff073a;
                    opacity: 1;
                }
                61%, 63% {
                    text-shadow: 0 0 3px #ff073a, 0 0 6px #ff073a;
                    opacity: 0.7;
                }
                64%, 66% {
                    text-shadow: 0 0 0px transparent, 0 0 0px transparent;
                    opacity: 0.1;
                }
                67%, 69% {
                    text-shadow: 0 0 2px #ff073a, 0 0 3px #ff073a;
                    opacity: 0.5;
                }
                70%, 72% {
                    text-shadow: 0 0 0px transparent, 0 0 0px transparent;
                    opacity: 0.1;
                }
                73%, 75% {
                    text-shadow: 0 0 4px #ff073a, 0 0 8px #ff073a;
                    opacity: 0.9;
                }
                76%, 100% {
                    text-shadow: 0 0 5px #ff073a, 0 0 10px #ff073a;
                    opacity: 1;
                }
            }
            
            @keyframes steady-glow {
                0%, 100% {
                    text-shadow: 0 0 5px #ff073a, 0 0 10px #ff073a;
                    opacity: 0.9;
                }
                50% {
                    text-shadow: 0 0 4px #ff073a, 0 0 8px #ff073a;
                    opacity: 1;
                }
            }
            
            .section-title {
                font-size: 1.5em;
                text-shadow: 0 0 3px #00ffff, 0 0 5px #00ffff;
            }
            
            .logo-image {
                max-width: 80%;
            }
            
            .logo-bottom {
                max-width: 50%;
            }
            
            .copyright {
                font-size: 0.7em;
                margin-top: 30px;
            }
            
            .menu-item {
                font-size: 1em;
            }
            
            .menu-container {
                padding: 20px;
                background-size: 30px 15px;
            }
            
            .menu-container::before {
                background-size: 30px 15px;
            }
            
            body {
                background-size: 30px 30px;
            }
        }
        
        @media (max-width: 480px) {
            .menu-title {
                font-size: 1.8em;
                margin: 80px 0 30px 0;
                gap: 2px;
            }
            
            .section-title {
                font-size: 1.3em;
                text-shadow: 0 0 2px #00ffff, 0 0 4px #00ffff;
            }
            
            .logo-image {
                max-width: 70%;
            }
            
            .logo-bottom {
                max-width: 40%;
            }
            
            .copyright {
                font-size: 0.7em;
                margin-top: 30px;
            }
            
            body {
                padding: 10px;
                background-size: 25px 25px;
            }
            
            .menu-container {
                background-size: 25px 12px;
                padding: 15px;
            }
            
            .menu-container::before {
                background-size: 25px 12px;
            }
            
            .menu-section {
                margin-bottom: 20px;
                padding-bottom: 10px;
            }
            
            .logo-bottom-container {
                margin-top: 20px;
                padding-top: 15px;
            }
            
            .game-controls {
                transform: scale(0.8);
            }
        }
    </style>
</head>
<body class="crt-effect">
    <!-- Pantalla de carga inicial -->
    <div id="loading-screen">
        <p id="loading-text">CARGANDO MENÚ_CROQUETAS.EXE</p>
        <div id="loading-bar">
            <div id="loading-progress"></div>
        </div>
    </div>

    <!-- Mini juego oculto -->
    <div id="mini-game">
        <canvas id="game-canvas" width="600" height="400"></canvas>
        <div class="game-controls">
            <button class="control-btn" id="left-btn">←</button>
            <button class="control-btn" id="action-btn">○</button>
            <button class="control-btn" id="right-btn">→</button>
        </div>
        <button id="close-game">CERRAR JUEGO</button>
    </div>

    <!-- Botón de sonido -->
    <div id="sound-toggle">🔊</div>

    <div class="menu-container">
        <div class="logo-container">
            <img src="logo.jpg" alt="CROQUETRUCK - LA FORTALEZA" class="logo-image" id="main-logo">
        </div>
        
        <h1 class="menu-title">
            <span class="letter-m">M</span>
            <span class="letter-e">E</span>
            <span class="letter-n">N</span>
            <span class="letter-u">Ú</span>
        </h1>
        
        <div class="menu-section">
            <h2 class="section-title">Croquetas Clásicas</h2>
            <div class="menu-item">
                <span class="item-name">Jamón Serrano</span>
                <span class="item-price">$125</span>
            </div>
            <div class="menu-item">
                <span class="item-name">Pollo</span>
                <span class="item-price">$120</span>
            </div>
            <div class="menu-item">
                <span class="item-name">Bacalao</span>
                <span class="item-price">$140</span>
            </div>
            <div class="menu-item">
                <span class="item-name">Espinacas</span>
                <span class="item-price">$120</span>
            </div>
        </div>
        
        <div class="menu-section">
            <h2 class="section-title">Croquetas Gourmet</h2>
            <div class="menu-item">
                <span class="item-name">Ibéricas</span>
                <span class="item-price">$150</span>
            </div>
            <div class="menu-item">
                <span class="item-name">Trufa</span>
                <span class="item-price">$160</span>
            </div>
            <div class="menu-item">
                <span class="item-name">Queso Azul</span>
                <span class="item-price">$145</span>
            </div>
            <div class="menu-item">
                <span class="item-name">Mariscos</span>
                <span class="item-price">$170</span>
            </div>
        </div>
        
        <div class="menu-section">
            <h2 class="section-title">Acompañamientos</h2>
            <div class="menu-item">
                <span class="item-name">Papas Fritas</span>
                <span class="item-price">$80</span>
            </div>
            <div class="menu-item">
                <span class="item-name">Ensalada</span>
                <span class="item-price">$90</span>
            </div>
            <div class="menu-item">
                <span class="item-name">Pan Artesanal</span>
                <span class="item-price">$60</span>
            </div>
        </div>
        
        <div class="menu-section">
            <h2 class="section-title">Bebidas</h2>
            <div class="menu-item">
                <span class="item-name">Refrescos</span>
                <span class="item-price">$40</span>
            </div>
            <div class="menu-item">
                <span class="item-name">Agua Mineral</span>
                <span class="item-price">$35</span>
            </div>
            <div class="menu-item">
                <span class="item-name">Cerveza</span>
                <span class="item-price">$70</span>
            </div>
        </div>
        
        <div class="menu-section">
            <h2 class="section-title">Promociones</h2>
            <div class="menu-item">
                <span class="item-name">6 Croquetas + Bebida</span>
                <span class="item-price">$250</span>
            </div>
            <div class="menu-item">
                <span class="item-name">Combo Familiar</span>
                <span class="item-price">$500</span>
            </div>
        </div>
        
        <div class="logo-bottom-container">
            <img src="logo abajo.jpg" alt="CROQUETRUCK" class="logo-bottom" id="bottom-logo">
            <div class="copyright">
                <span class="company-symbols">©</span> <span id="current-year"></span> - Croquetruck La Fortaleza. Todos los derechos reservados.
            </div>
        </div>
    </div>

    <script>
        // Efecto de carga inicial
        document.addEventListener('DOMContentLoaded', function() {
            const loadingProgress = document.getElementById('loading-progress');
            const loadingScreen = document.getElementById('loading-screen');
            const loadingText = document.getElementById('loading-text');
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 10;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    
                    loadingText.textContent = "¡LISTO! PRESIONA CUALQUIER TECLA";
                    
                    // Esperar a que el usuario toque la pantalla para continuar
                    const continueAfterLoad = () => {
                        loadingScreen.style.display = 'none';
                        playSound('startup');
                        document.removeEventListener('click', continueAfterLoad);
                        document.removeEventListener('touchstart', continueAfterLoad);
                    };
                    
                    document.addEventListener('click', continueAfterLoad);
                    document.addEventListener('touchstart', continueAfterLoad);
                }
                loadingProgress.style.width = progress + '%';
            }, 200);
        });

        // Sonidos
        const sounds = {
            select: new Audio('data:audio/wav;base64,UklGRl4QAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YToQAACBgIF/gn6DfYJ9gXyBeoB5f3d9dnt0eXF2bnRrcmhwZWxhaF9kXF9YWlRVUFFMTEdJRkVDRD9BPT47Ozg5NjU0MzEwLy4tLCopKCYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAA='),
            confirm: new Audio('data:audio/wav;base64,UklGRlwOAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YVQOAACDgYF/goCCgYOBhIKFg4aEh4WJhouIjIqOjJCOkpCUkpaUmJaamJyanpygnqKgpKKmpKinqqirq62sr66wsLKytLO0tba2uLi5ubq6u7u8vL29vr6/v8DAwcHCwsPDxMTFxcbGx8fIyMnJysrLy8zMzc3Ozs/P0NDR0dLS09PU1NXV1tbX19jY2dna2tvb3Nzd3d7e39/g4OHh4uLj4+Tk5eXm5ufn6Ojp6erq6+vs7O3t7u7v7/Dw8fHy8vPz9PT19fb29/f4+Pn5+vr7+/z8/f3+/v//AAAB'),
            startup: new Audio('data:audio/wav;base64,UklGRlwMAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YUgMAACBgIF/gn6DfYJ9gXyBeoB5f3d9dnt0eXF2bnRrcmhwZWxhaF9kXF9YWlRVUFFMTEdJRkVDRD9BPT47Ozg5NjU0MzEwLy4tLCopKCYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAA=='),
            coin: new Audio('data:audio/wav;base64,UklGRlwKAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YUgKAACBgIF/gn6DfYJ9gXyBeoB5f3d9dnt0eXF2bnRrcmhwZWxhaF9kXF9YWlRVUFFMTEdJRkVDRD9BPT47Ozg5NjU0MzEwLy4tLCopKCYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAA=')
        };

        // Configurar volumen de los sonidos
        Object.keys(sounds).forEach(key => {
            sounds[key].volume = 0.3;
        });

        // Función para reproducir sonidos
        function playSound(soundName) {
            if (window.soundEnabled && sounds[soundName]) {
                sounds[soundName].currentTime = 0;
                sounds[soundName].play().catch(e => console.log("Error de audio:", e));
            }
        }

        // Estado inicial del sonido
        window.soundEnabled = true;

        // Alternar sonido
        document.getElementById('sound-toggle').addEventListener('click', function() {
            window.soundEnabled = !window.soundEnabled;
            this.textContent = window.soundEnabled ? '🔊' : '🔇';
            playSound('select');
        });

        // Año actual
        document.getElementById("current-year").textContent = new Date().getFullYear();

        // Efectos de interacción en los items del menú
        const menuItems = document.querySelectorAll('.menu-item');
        menuItems.forEach(item => {
            item.addEventListener('click', function() {
                this.classList.add('highlight');
                playSound('coin');
                setTimeout(() => {
                    this.classList.remove('highlight');
                }, 300);
            });
            
            item.addEventListener('touchstart', function() {
                this.classList.add('highlight');
                playSound('select');
            });
            
            item.addEventListener('touchend', function() {
                setTimeout(() => {
                    this.classList.remove('highlight');
                }, 300);
            });
        });

        // Efectos en los títulos de sección
        const sectionTitles = document.querySelectorAll('.section-title');
        sectionTitles.forEach(title => {
            title.addEventListener('click', function() {
                this.classList.add('vibrate');
                playSound('confirm');
                setTimeout(() => {
                    this.classList.remove('vibrate');
                }, 300);
            });
        });

        // Mini juego al hacer clic en el logo 3 veces
        let clickCount = 0;
        let clickTimer;
        
        document.getElementById('main-logo').addEventListener('click', function() {
            clearTimeout(clickTimer);
            clickCount++;
            
            if (clickCount === 3) {
                openMiniGame();
                clickCount = 0;
            } else {
                clickTimer = setTimeout(() => {
                    clickCount = 0;
                }, 1000);
            }
        });

        // Abrir mini juego
        function openMiniGame() {
            const gameContainer = document.getElementById('mini-game');
            gameContainer.style.display = 'flex';
            playSound('startup');
            initGame();
        }

        // Cerrar mini juego
        document.getElementById('close-game').addEventListener('click', function() {
            document.getElementById('mini-game').style.display = 'none';
            playSound('select');
        });

        // Inicializar el juego
        function initGame() {
            const canvas = document.getElementById('game-canvas');
            const ctx = canvas.getContext('2d');
            
            // Ajustar tamaño para móviles
            if (window.innerWidth < 768) {
                canvas.width = 300;
                canvas.height = 200;
            }
            
            // Variables del juego
            const player = {
                x: canvas.width / 2,
                y: canvas.height - 30,
                width: 30,
                height: 15,
                color: '#ff00ff',
                speed: 5,
                direction: 0
            };
            
            const bullets = [];
            const enemies = [];
            let score = 0;
            
            // Controles táctiles
            document.getElementById('left-btn').addEventListener('touchstart', () => player.direction = -1);
            document.getElementById('left-btn').addEventListener('touchend', () => player.direction = 0);
            document.getElementById('right-btn').addEventListener('touchstart', () => player.direction = 1);
            document.getElementById('right-btn').addEventListener('touchend', () => player.direction = 0);
            document.getElementById('action-btn').addEventListener('touchstart', shoot);
            
            // Controles de teclado
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') player.direction = -1;
                if (e.key === 'ArrowRight') player.direction = 1;
                if (e.key === ' ') shoot();
            });
            
            document.addEventListener('keyup', (e) => {
                if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') player.direction = 0;
            });
            
            // Función para disparar
            function shoot() {
                bullets.push({
                    x: player.x,
                    y: player.y,
                    width: 3,
                    height: 10,
                    color: '#39ff14',
                    speed: 7
                });
                playSound('confirm');
            }
            
            // Función principal del juego
            function gameLoop() {
                // Limpiar canvas
                ctx.fillStyle = '#1a1a2e';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Mover jugador
                player.x += player.direction * player.speed;
                
                // Limitar jugador dentro de la pantalla
                if (player.x < 0) player.x = 0;
                if (player.x > canvas.width - player.width) player.x = canvas.width - player.width;
                
                // Dibujar jugador
                ctx.fillStyle = player.color;
                ctx.fillRect(player.x, player.y, player.width, player.height);
                
                // Actualizar y dibujar balas
                for (let i = bullets.length - 1; i >= 0; i--) {
                    bullets[i].y -= bullets[i].speed;
                    
                    // Eliminar balas que salen de la pantalla
                    if (bullets[i].y < 0) {
                        bullets.splice(i, 1);
                        continue;
                    }
                    
                    // Dibujar bala
                    ctx.fillStyle = bullets[i].color;
                    ctx.fillRect(bullets[i].x, bullets[i].y, bullets[i].width, bullets[i].height);
                }
                
                // Generar enemigos aleatoriamente
                if (Math.random() < 0.03) {
                    enemies.push({
                        x: Math.random() * (canvas.width - 20),
                        y: 0,
                        width: 20,
                        height: 20,
                        color: '#ffdf00',
                        speed: 2 + Math.random() * 2
                    });
                }
                
                // Actualizar y dibujar enemigos
                for (let i = enemies.length - 1; i >= 0; i--) {
                    enemies[i].y += enemies[i].speed;
                    
                    // Eliminar enemigos que salen de la pantalla
                    if (enemies[i].y > canvas.height) {
                        enemies.splice(i, 1);
                        continue;
                    }
                    
                    // Dibujar enemigo
                    ctx.fillStyle = enemies[i].color;
                    ctx.fillRect(enemies[i].x, enemies[i].y, enemies[i].width, enemies[i].height);
                    
                    // Detectar colisiones bala-enemigo
                    for (let j = bullets.length - 1; j >= 0; j--) {
                        if (
                            bullets[j].x < enemies[i].x + enemies[i].width &&
                            bullets[j].x + bullets[j].width > enemies[i].x &&
                            bullets[j].y < enemies[i].y + enemies[i].height &&
                            bullets[j].y + bullets[j].height > enemies[i].y
                        ) {
                            // Colisión detectada
                            enemies.splice(i, 1);
                            bullets.splice(j, 1);
                            score += 10;
                            playSound('coin');
                            break;
                        }
                    }
                }
                
                // Dibujar puntuación
                ctx.fillStyle = '#ffffff';
                ctx.font = '16px "Press Start 2P", cursive';
                ctx.fillText('Puntos: ' + score, 10, 20);
                
                // Continuar el bucle del juego
                if (document.getElementById('mini-game').style.display === 'flex') {
                    requestAnimationFrame(gameLoop);
                }
            }
            
            // Iniciar el juego
            gameLoop();
        }
    </script>
</body>
</html>
